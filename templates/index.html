<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Category</title>
  <link rel="stylesheet" href="static/mystyle.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>

<body class="bg">
  <h1 class="heading p-3" style="text-align: center;">Fill your details here</h1>
  <div class="container">
    <form action="/add" method="post">
      <div class="row">
        <div class="col-md-6">

          <div class="mb-3">
            <label for="exampleFormControlInput1" class="form-label">Name<span class="text-danger">*</span></label>
            <input type="text" name="username" class="form-control" placeholder="Your Name" required>
          </div>
        </div>
        <div class="col-md-6">
          <div class="mb-3">
            <label for="exampleFormControlInput1" class="form-label">Company name<span
                class="text-danger">*</span></label>
            <input type="text" name="companyname" class="form-control" placeholder="Your Company name" required>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-6">
          <div class="row">
            <div class="col-md-4">
              <div class="mb-3">
                <label class="form-label">Enabled<span class="text-danger">*</span></label>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="enabled" id="yesRadio" value="yes" required>
                  <label class="form-check-label" for="yesRadio">
                    Yes
                  </label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="enabled" id="noRadio" value="no" required>
                  <label class="form-check-label" for="noRadio">
                    No
                  </label>
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div class="mb-3">
                <label for="jobTypeSelect" class="form-label">Job Type<span class="text-danger">*</span></label>
                <select class="form-select" id="jobTypeSelect" name="job_type" required>
                  <option value="" selected>Select Your Job Type</option>
                  <option value="intern">Intern</option>
                  <option value="web">Web Developer</option>
                  <option value="software">Software Developer</option>
                  <option value="flutter">Flutter Developer</option>
                </select>
                <div class="invalid-feedback">Please select your job type.</div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="mb-3">
            <label for="exampleFormControlInput1" class="form-label">repo_url<span class="text-danger">*</span></label>
            <input type="text" name="repourl" class="form-control" placeholder="repo_url" required>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6">
          <div class="mb-3">
            <label for="exampleFormControlTextarea1" class="form-label">run_command<span
                class="text-danger">*</span></label>
            <input type="text" name="runcmnd" class="form-control" placeholder="Run_Command" required>
          </div>
        </div>
        <div class="col-md-6">
          <div class="mb-3">
            <label for="exampleFormControlTextarea1" class="form-label">src_path<span
                class="text-danger">*</span></label>
            <input type="text" name="srcpath" class="form-control" id="exampleFormControlInput1" placeholder="src_path"
              required>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div class="mb-3">
              <label for="exampleFormControlTextarea1" class="form-label">application_port<span
                  class="text-danger">*</span></label>
              <input type="text" name="applicationport" class="form-control" id="exampleFormControlInput1"
                placeholder="" required>
            </div>
          </div>
          <div class="col-md-6">
            <div class="mb-3">
              <label for="exampleFormControlTextarea1" class="form-label">deploy_port<span
                  class="text-danger">*</span></label>
              <input type="text" name="deployport" class="form-control" id="exampleFormControlInput1" placeholder=""
                required>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div class="mb-3">
              <label for="exampleFormControlTextarea1" class="form-label">ssh_port_prod</label>
              <input type="text" name="sshportprod" class="form-control mandatory-fields" id="exampleFormControlInput1"
                placeholder="">
            </div>
          </div>
          <div class="col-md-6">
            <div class="mb-3">
              <label for="exampleFormControlTextarea1" class="form-label">ssh_port_dev</label>
              <input type="text" name="sshportdev" class="form-control mandatory-fields" id="exampleFormControlInput1"
                placeholder="">
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div class="mb-3">
              <label for="exampleFormControlTextarea1" class="form-label">build_command<span
                  class="text-danger">*</span></label>
              <input type="text" name="buildcommand" class="form-control" id="exampleFormControlInput1" placeholder=""
                required>
            </div>
          </div>
          <div class="col-md-6">
            <div class="mb-3">
              <label for="exampleFormControlTextarea1" class="form-label">pvt_deploy_servers_dev</label>
              <input type="text" name="pvtdeployserversdev" class="form-control mandatory-fields mandatory-fields"
                placeholder=""><br>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div class="mb-3">
              <label for="exampleFormControlTextarea1" class="form-label">deploy_servers_dev</label>
              <input type="text" name="deployserversdev" class="form-control mandatory-fields mandatory-fields"
                id="exampleFormControlInput1" placeholder=""><br>
            </div>
          </div>
          <div class="col-md-6">

            <div class="mb-3">
              <label for="exampleFormControlTextarea1" class="form-label">pvt_deploy_servers_prod</label>
              <input type="text" name="pvtdeployserversprod" class="form-control mandatory-fields"
                id="exampleFormControlInput1" placeholder="">
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div class="mb-3">
              <label for="exampleFormControlTextarea1" class="form-label">deploy_servers_prod</label>
              <input type="text" name="deployserversprod" class="form-control mandatory-fields"
                id="exampleFormControlInput1" placeholder="">
            </div>
          </div>

          <div class="col-md-6">
            <div class="mb-3">
              <label for="exampleFormControlTextarea1" class="form-label">deploy_env_prod</label>
              <input type="text" name="deployenvprod" class="form-control mandatory-fields"
                id="exampleFormControlInput1" placeholder="">
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">

            <div class="mb-3">
              <label for="exampleFormControlTextarea1" class="form-label">deploy_env_dev</label>
              <input type="text" name="deployenvdev" class="form-control mandatory-fields" id="exampleFormControlInput1"
                placeholder="">
            </div>
          </div>
          <div class="col-md-6">

            <div class="mb-3">
              <label for="exampleFormControlTextarea1" class="form-label">deploy_env<span
                  class="text-danger">*</span></label>
              <input type="text" name="deployenv" class="form-control" id="exampleFormControlInput1" placeholder=""
                required>
            </div>
          </div>
        </div>

        <div class="my-btn p-3">
          <button type="submit" class="btn btn-secondary" style="background: #7863AD;">Submit</button>

        </div>
      </div>


      <script>
        document.addEventListener('DOMContentLoaded', function () {
          var deployEnvField = document.querySelector('input[name="deployenv"]');
          var sshPortDevField = document.querySelector('input[name="sshportdev"]');
          var pvtDeployServersDevField = document.querySelector('input[name="pvtdeployserversdev"]');
          var deployServersDevField = document.querySelector('input[name="deployserversdev"]');
          var deployEnvDevField = document.querySelector('input[name="deployenvdev"]');
          var sshPortProdField = document.querySelector('input[name="sshportprod"]');
          var pvtDeployServersProdField = document.querySelector('input[name="pvtdeployserversprod"]');
          var deployServersProdField = document.querySelector('input[name="deployserversprod"]');
          var deployEnvProdField = document.querySelector('input[name="deployenvprod"]');

          var allFields = document.querySelectorAll('.mandatory-fields');

          // Function to add the star mark (*) to required fields
          function addStarMarkToRequiredFields(fields) {
            fields.forEach(function (fieldName) {
              var field = document.querySelector(`input[name="${fieldName}"]`);
              if (field.classList.contains('mandatory-fields')) {
                var label = field.closest('.mb-3').querySelector('label');
                label.innerHTML = label.innerHTML + ' <span class="text-danger">*</span>';
              }
            });
          }

          // Event listener to update required fields based on the value of deployEnvField
          deployEnvField.addEventListener('input', function () {
            if ((!deployEnvField.value.includes('dev') && deployEnvField.value.includes('prod')) || (deployEnvField.value.includes('dev') && deployEnvField.value.includes('prod'))) {
              // Add star mark to required fields for dev and prod environment combination
              addStarMarkToRequiredFields(['sshportdev', 'pvtdeployserversdev', 'deployserversdev', 'deployenvdev', 'sshportprod', 'pvtdeployserversprod', 'deployserversprod', 'deployenvprod']);
              allFields.forEach(function (field) {
                field.required = true;
              });

            } else if (deployEnvField.value === 'dev') {
              // Add star mark to required fields for dev environment
              addStarMarkToRequiredFields(['sshportdev', 'pvtdeployserversdev', 'deployserversdev', 'deployenvdev']);
              allFields.forEach(function (field) {
                field.required = false;
              });
              sshPortDevField.required = true;
              pvtDeployServersDevField.required = true;
              deployServersDevField.required = true;
              deployEnvDevField.required = true;
              // } else if (deployEnvField.value === 'prod') {
              //   // Add star mark to required fields for prod environment
              //   addStarMarkToRequiredFields(['sshportdev', 'pvtdeployserversdev', 'deployserversdev', 'deployenvdev', 'sshportprod', 'pvtdeployserversprod', 'deployserversprod', 'deployenvprod']);
              //   allFields.forEach(function (field) {
              //     field.required = true;
              //   });
            } else {
              // Remove required fields and star marks for other cases
              allFields.forEach(function (field) {
                field.required = false;
              });
            }
          });
        });
      </script>

      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
</body>

</html>